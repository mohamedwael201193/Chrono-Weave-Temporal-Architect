import{FarcasterInit as e,FarcasterStatus as t,FarcasterAuthenticate as n,FarcasterLink as r,FarcasterUnlink as a}from"@privy-io/public-api";class i{_privyInternal;constructor(e){this._privyInternal=e}async initializeAuth({relyingParty:t,redirectUrl:n,token:r}){return await this._privyInternal.fetch(e,{body:{relying_party:t,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(t,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:r,fid:a,mode:i}){const s=await this._privyInternal.fetch(n,{body:{channel_token:e,message:t,signature:r,fid:a,mode:i}});return await this._privyInternal.session.updateWithTokensResponse(s),this._privyInternal.callbacks?.setUser?.(s.user),s}async link({channel_token:e,message:t,signature:n,fid:a}){await this._privyInternal.fetch(r,{body:{channel_token:e,message:t,signature:n,fid:a}});return(await this._privyInternal.refreshSession()).user}async unlink({fid:e}){await this._privyInternal.fetch(a,{body:{fid:e}});return(await this._privyInternal.refreshSession()).user}}export{i as default};
